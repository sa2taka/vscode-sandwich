[vim-sandwich](https://github.com/machakann/vim-sandwich) というVimの有名なプラグインがあります。

これのコンセプトをVSCodeの拡張として再現したいです。

現在考えている仕様は下記のとおりです

- 特定の命令（ショートカットCmd-k + s）を押すと、a(追加), d(削除), r(置換)の選択肢が出てきます。入力後Enterを押すと次に進みます
  - 設定次第では、キーを打った瞬間に即座に反応することも可能です。デフォルトではEnterを押さない方が良いと思います

- aの場合オブジェクト範囲を指定します
  - vimのように `aw` などは初期バージョンでは実装しません
  - 下記の機能がほしいです
    - `_` は該当の行の最初から最後までを選択します
    - `s` は選択範囲を選択します
    - `it` は囲まれたタグの内側を選択します。 <hoge><foga>hello[curcor]world</foga></hoge> の場合、`hello world` の部分のみ選択します
    - `at` は囲まれたタグの外側を選択します。<hoge><foga>hello[curcor]world</foga></hoge> の場合、`<foga></foga>` の部分のみ選択します
    - `st` は自己閉じタグ（<img />）全体を選択します
- オブジェクト範囲を指定した後、追加するペアを指定します

  - クォート(`'`)やダブルクォート(`"`)、バッククォート(`\``)を選択肢として表示します。
  - htmlやtypescriptreact等の場合はタグ(`<tag></tag>`)を選択肢として表示します。これは`t`です。
    - `t`を選択した後は、タグの中身を入力する必要があります。`input` と入力したら `<input></input>` になります。

- rの場合は置換する対象を指定します。
  - クォート(`'`)やダブルクォート(`"`)、バッククォート(`\``)を選択肢として表示します。
  - htmlやtypescriptreact等の場合はタグ(`<tag></tag>`)を選択肢として表示します。これは`t`です。
  - いずれの場合は、キーを打った瞬間に即座に反応することも可能です。デフォルトではEnterを押さない方が良いと思います
- 置換対象を選択後、置換後の値を指定します。

  - 同様に、クォート(`'`)やダブルクォート(`"`)、バッククォート(`\``)を選択肢として表示します。
  - 同様に、htmlやtypescriptreact等の場合はタグ(`<tag></tag>`)を選択肢として表示します。これは`t`です。
    - `t`を選択した後は、タグの中身を入力する必要があります。`input` と入力したら `<input></input>` になります。

- dの場合は削除する対象を指定します。

  - rの置換対象と同じです

- UXを考慮してください。例えば選択範囲をハイライトで光らせるなど

# 開発の上で

開発の上では、必要十分な機能分割、関数分割を行ってください。例えば、各命令ごとにファイルを分割するなど。
仕様や開発用のメモは、`docs/` にてファイルを作成・編集してください。また、AIによる自動作成であることが分かるように `-by-ai` というsuffixを付与してください。
